<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Update Donor Profile — BDMS</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='stylesprofile.css') }}">
  
</head>
<body>
  <main>
    <div class="form-container" role="main" aria-labelledby="formTitle">
      <h2 id="formTitle">Update Donor Profile</h2>

      <!-- Flash messages -->
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="flash {{ category }}">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}

      <!-- Update form -->
      <form method="POST" action="{{ url_for('update_donor') }}">
        <label for="name">Registered Name:</label>
<input type="text" id="name" name="name" placeholder="Enter your registered full name" required
       pattern="^[a-zA-Z\s]{2,50}$"
       title="Letters and spaces only (2–50 chars)">

<label for="contact">Registered Phone/Email:</label>
<input type="text" id="contact" name="contact" placeholder="Enter your registered phone/email" required
       pattern="^[0-9+\-\s@.]{7,50}$"
       title="Digits, letters, spaces, +, -, @, . (7–50 chars)">

        <label for="city">New City (optional):</label>
        <input type="text" id="city" name="city" placeholder="Enter new city">

        <label for="last_donation_date">New Last Donation Date (optional):</label>
        <input type="date" id="last_donation_date" name="last_donation_date">

        <button type="submit" class="btn">Update Profile</button>
      </form>

      <a href="{{ url_for('home') }}" class="back-link">← Back to Home</a>
    </div>
  </main>
</body>
</html>
